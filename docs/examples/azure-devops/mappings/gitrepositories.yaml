apiVersion: azuredevops.mia-platform.eu/v1alpha1
resource: gitrepositories
type: gitrepository
syncable: true
mappings:
  identifier: |-
    {{ printf "%s-%s" .project.id .id | sha256sum }}
  spec:
    name: "{{ .name }}"
    defaultBranch: "{{ get \"defaultBranch\" . \"\" | quote }}"
    isDisabled: "{{ .isDisabled }}"
    isAFork: "{{ get \"isFork\" . false }}"
    isArchived: "{{ .isInMaintenance }}"
    sshGitUrl: "{{ .sshUrl }}"
    httpGitUrl: "{{ .remoteUrl }}"
