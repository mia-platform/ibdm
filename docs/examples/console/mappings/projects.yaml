apiVersion: console.mia-platform.eu/v1alpha1
resource: projects
type: project
syncable: false
mappings:
  identifier: |-
    {{ printf "%s-%s" .tenantId .projectId }}
  spec:
    projectId: "{{ .project.projectId }}"
    tenantId: "{{ .project.tenantId }}"
    name: "{{ .project.name }}"
    repository: "{{ .project.repository | toJSON }}"
    repositoryUrl: "{{ .project.repositoryUrl }}"
    availableNamespaces: "{{ get \"availableNamespaces\" .project (list) | toJSON }}"
    configurationGitPath: "{{ .project.configurationGitPath }}"
    defaultBranch: "{{ get \"defaultBranch\" .project \"\" | quote }}"
    description: "{{ get \"description\" .project \"\" | quote }}"
    environments: "{{ .project.environments | toJSON }}"
    imagePullSecretNames: "{{ get \"imagePullSecretNames\" .project (list) | toJSON }}"
