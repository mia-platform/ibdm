apiVersion: console.mia-platform.eu/v1alpha1
resource: projects
type: project
syncable: true
mappings:
  identifier: |-
    {{ printf "%s" .project._id }}
  spec:
    projectUniqueId: "{{ .project._id }}"
    projectId: "{{ .project.projectId }}"
    tenantId: "{{ .project.tenantId }}"
    tenantName: "{{ get \"tenantName\" .project \"\" | quote }}"
    name: "{{ .project.name }}"
    repository: "{{ .project.repository | toJSON }}"
    repositoryUrl: "{{ get \"repositoryUrl\" .project \"\" | quote }}"
    availableNamespaces: "{{ get \"availableNamespaces\" .project (list) | toJSON }}"
    configurationGitPath: "{{ .project.configurationGitPath }}"
    containerRegistries: "{{ get \"containerRegistries\" .project (list) | toJSON }}"
    defaultBranch: "{{ get \"defaultBranch\" .project \"\" | quote }}"
    deploy: "{{ get \"deploy\" .project | toJSON }}"
    description: "{{ get \"description\" .project \"\" | quote }}"
    dockerImageNameSuggestion: "{{ get \"dockerImageNameSuggestion\" .project | toJSON }}"
    enabledSecurityFeatures: "{{ get \"enabledSecurityFeatures\" .project | toJSON }}"
    enabledServices: "{{ get \"enabledServices\" .project | toJSON }}"
    environments: "{{ .project.environments | toJSON }}"
    environmentsVariables: "{{ get \"environmentsVariables\" .project | toJSON }}"
    flavor: "{{ get \"flavor\" .project \"\" | quote }}"
    info: "{{ get \"info\" .project | toJSON }}"
    imagePullSecretNames: "{{ get \"imagePullSecretNames\" .project (list) | toJSON }}"
    links: "{{ get \"links\" .project (list) | toJSON }}"
    logicalScopeLayers: "{{ get \"logicalScopeLayers\" .project (list) | toJSON }}"
    originalTemplate: "{{ get \"originalTemplate\" .project | toJSON }}"
    pipelines: "{{ get \"pipelines\" .project | toJSON }}"
    projectNamespaceVariable: "{{ get \"projectNamespaceVariable\" .project \"\" | quote }}"
    lastUpdate: "{{ get \"lastUpdate\" .project (now) }}"
